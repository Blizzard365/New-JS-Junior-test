window.CP={UI:{Forms:{}},ObjectStorage:{}},function(e){"use strict";e.last_generated_id=0,e.get_unique_id=function(){return e.last_generated_id++,"cp_autogen_id_"+e.last_generated_id}}(window.CP),window.dbg=console.log.bind(console),window.dbg_info=function(){void 0!==window.console&&console.info.apply&&console.info.apply(console,arguments)},window.dbg_warn=function(){void 0!==window.console&&console.warn.apply&&console.warn.apply(console,arguments)},window.dbg_err=function(){return void 0!==window.console&&console.error.apply&&console.error.apply(console,arguments),arguments[0]},window.dbg_catch_err=function(e){throw void 0!==window.console&&console.error(e),e},window.dbg_trace=function(){void 0!==window.console&&console.trace.apply&&console.trace.apply(console,arguments)},window.dbg_group=function(){void 0!==window.console&&console.group.apply?console.group.apply(console,arguments):dbg("Group ",arguments)},window.dbg_group_collapsed=function(){void 0!==window.console&&console.groupCollapsed.apply?console.groupCollapsed.apply(console,arguments):dbg_group("Group ",arguments)},window.dbg_group_end=function(){void 0!==window.console&&console.groupEnd.apply?console.groupEnd.apply(console,arguments):dbg("Group End",arguments)},window.dbg_promise=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return dbg.apply(null,e),arguments[0]},window.dbg_deprecated=dbg_warn.bind(null,'Deprecated "%s". Use "%s"'),function(e){"use strict";window.CP.BaseEvent=function(){this.m_events={},this._init_base_events=function(){this.m_events={}},this.add_event_once=function(t,i,n,...s){e(this.m_events,t,i,n,s,!0)},this.add_event=function(t,i,n,...s){e(this.m_events,t,i,n,s,!1)},this.has_listener=function(e){return!(!this.m_events[e]||!this.m_events.length)},this.set_events_array=function(e){this.m_events=e};const e=function(e,t,i,n,s,o){i||dbg_err(new Error("callback is null"));const _={callback:i,context:n,params:s,remove_on_call:o};t in e||(e[t]=[]),e[t].push(_)};this.call_events=function(e,...n){if(!(e in this.m_events))return[];const s=this.m_events[e],o=[],_=[],r=n.length;let l=s.length,d=0,a=0;for(;l;){const e=s[--l];if(!e){l=s.length;continue}const i=t(e,n,r);void 0!==i&&(o[d++]=i),e.remove_on_call&&s&&e==s[l]&&(_[a++]=l)}return 0 in _&&i(this,e,_),o};const t=function(e,t,i){const n=e.context,s=e.callback,o=e.params||[],_=o.length,r=_?o.concat(t):t;switch(_+i){case 0:return s.call(n);case 1:return s.call(n,r[0]);case 2:return s.call(n,r[0],r[1]);case 3:return s.call(n,r[0],r[1],r[2]);case 4:return s.call(n,r[0],r[1],r[2],r[3]);default:return s.apply(n,r)}};this.get_event_promise=function(e){return new Promise(function(t){this.add_event_once(e,t)}.bind(this))},this.remove_events=function(e,t){if(!e)return this.m_events={},!0;if(!this.m_events[e])return;if(!t)return delete this.m_events[e],!0;const n=[],s=this.m_events[e];let o=s.length;const _="function"==typeof t?"callback":"context";for(;o;){s[--o][_]===t&&n.push(o)}i(this,e,n)};const i=function(e,t,i){const n=e.m_events[t];if(!n)return!1;for(let e=0,t=i.length;e<t;e++){let s=i[e]-1,o=1;for(;e<t&&s===i[e+1];)o++,s--,e++;n.splice(i[e],o)}return n.length||delete e.m_events[t],!0}}}(),function(e){"use strict";var t=function(t){if(t||(t={}),this._dom_wrapper=t.wrapper||null,this._dom=null,this._$dom=null,this._component_id=t.cmp_id||e.get_unique_id(),this._params||(this._params=t),this._drawed=!1,this._dom_events_to_bind={},this._binded_dom_events={},this.always_invisible=!1,this.hasOwnProperty("m_events")||(this.m_events={}),"dom_events"in t)for(var i in t.dom_events)this.add_dom_event(i,t.dom_events[i])};e.UI.Forms={Component:t};var i=t.prototype;e.BaseEvent.call(i),i.get_dom=function(){return this._dom||(this._init(),this._bind_all_dom_events()),this._dom},i.set_parent_wrapper=function(e){this._dom_wrapper=e,this._params.decorator_style&&$(e).css(this._params.decorator_style)},i.get_cmp_id=function(){return this._component_id},i.get_id=function(){return this._component_id},i.get_$dom=function(){return this._$dom},i.get_parent_wrapper=function(){return this._dom_wrapper},i._on_event=function(e){if(!e)return!1;$(this._dom).on(e,this,function(e){var t=e.data,i=t.call_events(e.type,{event:e,data:t});return t.m_events[e.type]||(t._$dom.off(e.type),delete t._binded_dom_events[e.type]),i})},i._bind_event=function(e){this._binded_dom_events[e]||(this._binded_dom_events[e]=!0,this._on_event(e))},i.get_type=function(){return this._params.type},i._bind_all_dom_events=function(){var e="";for(var t in this._dom_events_to_bind)this._binded_dom_events[t]||(this._binded_dom_events[t]=!0,e+=t+" ");this._on_event(e)},i.remove_dom_event=function(e,t){this.remove_events(e,t),this._off_event(e)},i._off_event=function(e){this._dom&&!this.m_events[e]&&(this._$dom.off(e),delete this._binded_dom_events[e])},i.add_dom_event=function(e){this.add_event.apply(this,arguments),this._dom?this._bind_event(e):this._dom_events_to_bind[e]=!0},i.add_dom_event_once=function(e){this.add_event_once.apply(this,arguments),this._dom?this._bind_event(e):this._dom_events_to_bind[e]=!0},i._draw=function(e){this._drawed=!0,this._dom||this.get_dom(),e?(e.appendChild(this._dom),this._dom_wrapper=e):this._dom_wrapper!=this._dom&&this._dom_wrapper.appendChild(this._dom)},i.draw=function(e){this._draw(e),this._$dom.trigger("appended")},i.destroy=function(){this.call_events("destroy",this),this._$dom&&(this._$dom.off(),this._$dom.remove()),this.remove_events(),this._drawed=!1,this._dom=null,this._$dom=null}}(CP),function(e){"use strict";e.UI.key_map={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"super",110:"del_or_point",116:"f5",144:"numlock",145:"scroll"},e.UserEventsObserver=function(t,i){this.$_em=null,this.m_attr=i||[],this.m_key_map=e.UI.key_map,this.m_namespace=Math.random(),this.set_dom(t),e.BaseEvent.call(this)},e.CpUserEventsObserver=e.UserEventsObserver;var t=e.UserEventsObserver.prototype;t.add_attr=function(e){this.m_attr.push(e)},t.add_attrs=function(e){this.m_attr=this.m_attr.concat(e)},t.set_dom=function(e){this._remove_events();var t=$(e);if(!t)return!0;this.$_em=t,this.$_em.on("click",this,this._execute_cmd_click),$(document).on("keydown."+this.m_namespace,$.proxy(this._execute_keydown,this))},t._execute_keydown=function(e){var t=e.which,i={event:e,key_code:t,key_name:this.m_key_map[t]};this.call_events("keydown",i)},t._execute_cmd_click=function(e){var t=e.data,i={},n=$(e.target);if(!n.hasClass("cmd"))return null;if(n.hasClass("cp_disabled"))return null;var s=t.m_attr.length;i.node=this,i.event=e,i.target=e.target;for(var o=0;o<s;o++){var _=t.m_attr[o];i[_]=n.attr(_)}i.cmd_name=n.attr("action"),i.class=n.attr("class").split(" ");var r=n.closest("tr");if(r.length){var l=r.attr("row_id");l&&(i.row_id=l)}t.call_events("on_cmd_click",i)},t._remove_events=function(){this.$_em&&this.$_em.off("click",this._execute_cmd_click),$(document).off("keydown."+this.m_namespace,this._execute_keydown)},t.destroy=function(){this._remove_events(),this.m_events=[]}}(window.CP),window.LOC=function(e){return e},function(e){"use strict";e.ObjectStorage.SimpleObjectStorage=class{constructor(t={}){this._items=new Map,this._id_field=t.id_field||"id",this._convert_id="simple"===(t.id_type||"simple")?e=>`${e}`:e=>e,this._preserve_sort_order=!!t.preserve_sorted_order,this._sort_order=t.default_sort_order,this._rest={},this._block_events=!1,this.is_loaded=!0,e.BaseEvent.call(this)}get id_field(){return this._id_field}get_id_field(){return this.id_field}parse(e,t){this.block_events();const i=this._rest;i.clean_on_load&&this.clean();const n=i.parser&&i.parser_scope?i.parser.bind(i.parser_scope):i.parser||(e=>e);e.forEach(e=>this.set(n(e,t))),this._sort_by_default(),this.allow_events(),this.call_events("loaded",this)}parse_one(e,t){this.block_events();const i=this._rest,n=i.parser&&i.parser_scope?i.parser.bind(i.parser_scope):i.parser||(e=>e);this.set(n(e,t)),this._sort_by_default(),this.allow_events(),this.call_events("loaded",this)}block_events(){this._block_events=!0}allow_events(){this._block_events=!1}clean(){this._items.clear()}_sort_by_default(){if(!this._preserve_sort_order||!this._sort_order)return;const e=this._block_events;this.sort(this._sort_order.key,this._sort_order.dir),this._block_events=e}_show_error(e){dbg_err(e)}set(e){const t=this._convert_id(e[this._id_field]),i=this._items.has(t)?"change":"add";this._items.set(t,e),this._block_events||this.call_events(i,e)}sort(e,t){return t=+t||1,"function"==typeof e?this._sort((i,n)=>t*e(i,n)):this._sort((i,n)=>i[e]==n[e]?0:(i[e]>n[e]||-1)*t),this._sort_order={key:e,dir:t},this.call_events("data_sorted",this,e,t),this}_sort(e){const t=this.get_all().sort(e);this._items.clear(),t.forEach(e=>this._items.set(this._convert_id(e[this._id_field]),e))}remove(e){e=this._convert_id(e),this._items.has(e)&&(this._items.delete(e),this._block_events||this.call_events("remove",e))}get_all(){return Array.from(this._items.values())}get(e){return this._items.get(this._convert_id(e))}forEach(e,t){this.get_all().forEach(e,t)}flatMap(e,t){return this.get_all().flatMap(e,t)}find(e,t){return this.get_all().find(e,t)}map(e,t){return this.get_all().map(e,t)}destroy(){this.abort(),this.remove_events()}}}(window.CP),function(e){"use strict";window.CP.TestData=[{id:21421,reg_number:"А 932 СФ 392",ignition:0,speed:0,fuel_level:42,device:"E0022400",mileage:3088.89},{id:18323,reg_number:"В 033 ХЕ 323",ignition:0,speed:0,fuel_level:50,device:"E0021645",mileage:376848},{id:15039,reg_number:"В 053 ОХ 338",ignition:0,speed:0,fuel_level:null,device:"E0020433",mileage:null},{id:21426,reg_number:"В 244 ДА 392",ignition:0,speed:0,fuel_level:50,device:"E0023755",mileage:31209},{id:21424,reg_number:"Е 348 ЯК 392",ignition:0,speed:0,fuel_level:16,device:"E0023211",mileage:60596},{id:15024,reg_number:"Е 594 УХ 392",ignition:1,speed:7,fuel_level:75.6,device:"E0020818",mileage:2941.88},{id:21420,reg_number:"Е 828 ТЮ 392",ignition:0,speed:0,fuel_level:42,device:"E0022399",mileage:51730.89},{id:18322,reg_number:"К 394 ХБ 345",ignition:0,speed:0,fuel_level:65.2,device:"E0021643",mileage:418012.31},{id:18311,reg_number:"К 423 ХЕ 323",ignition:1,speed:24,fuel_level:81.6,device:"E0021804",mileage:73040.08},{id:15028,reg_number:"К 804 ЭХ 222",ignition:0,speed:0,fuel_level:40.4,device:null,mileage:45772.66},{id:15031,reg_number:"К 842 НЯ 222",ignition:0,speed:0,fuel_level:73.2,device:null,mileage:25968.78},{id:15029,reg_number:"М 282 ВО 222",ignition:1,speed:0,fuel_level:80.8,device:"E0020820",mileage:84675.14},{id:18321,reg_number:"М 292 ТЫ 222",ignition:0,speed:0,fuel_level:100,device:"E0021642",mileage:281537},{id:15027,reg_number:"М 839 РЫ 222",ignition:0,speed:0,fuel_level:81.2,device:"E0020766",mileage:84479.19},{id:18310,reg_number:"Н 523 ХА 323",ignition:1,speed:3,fuel_level:94.8,device:"E0021636",mileage:296834.64},{id:18316,reg_number:"О 082 ПЕ 354",ignition:0,speed:0,fuel_level:140,device:"E0021975",mileage:207013},{id:18308,reg_number:"О 232 НЯ 222",ignition:1,speed:7,fuel_level:81.6,device:"E0020823",mileage:158260.54},{id:15042,reg_number:"О 302 РР 222",ignition:0,speed:0,fuel_level:null,device:"E0020436",mileage:null},{id:18312,reg_number:"О 343 ОУ 222",ignition:0,speed:0,fuel_level:94,device:"E0021812",mileage:262736.05},{id:18324,reg_number:"О 480 ЕС 222",ignition:1,speed:55,fuel_level:100,device:"E0021646",mileage:375246.53},{id:18309,reg_number:"Р 443 ЧБ 250",ignition:1,speed:10,fuel_level:67.2,device:"E0021196",mileage:330.43},{id:15072,reg_number:"С 234 РА 222",ignition:1,speed:0,fuel_level:null,device:null,mileage:null},{id:21423,reg_number:"С 330 ВД 354",ignition:0,speed:0,fuel_level:44,device:"E0022924",mileage:24540},{id:21419,reg_number:"Т 430 СР 222",ignition:0,speed:0,fuel_level:11,device:"E0022398",mileage:33771.89},{id:18317,reg_number:"Т 524 ЧБ 323",ignition:0,speed:0,fuel_level:172,device:"E0021976",mileage:488132.09},{id:21418,reg_number:"Т 580 УК 222",ignition:0,speed:0,fuel_level:27,device:"E0022396",mileage:21992.5},{id:15030,reg_number:"У 302 ГО 328",ignition:0,speed:0,fuel_level:53.2,device:null,mileage:29597.09},{id:15026,reg_number:"У 333 АХ 328",ignition:0,speed:0,fuel_level:100,device:null,mileage:63593.1},{id:21425,reg_number:"У 393 БА 328",ignition:0,speed:0,fuel_level:22,device:"E0023539",mileage:38710},{id:18319,reg_number:"У 442 ЧЕ 323",ignition:1,speed:5,fuel_level:44.8,device:"E0022015",mileage:169384},{id:21427,reg_number:"У 534 КМ 323",ignition:0,speed:0,fuel_level:30,device:"E0023771",mileage:38403},{id:15078,reg_number:"У 553 НО 323",ignition:0,speed:0,fuel_level:null,device:"E0009561",mileage:null},{id:18313,reg_number:"Х 204 НУ 323",ignition:0,speed:127,fuel_level:65,device:"E0021966",mileage:482543.31},{id:21422,reg_number:"Х 382 КУ 323",ignition:0,speed:0,fuel_level:29,device:"E0022403",mileage:28030}]}();